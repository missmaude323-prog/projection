<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title> Projection Terminal</title>
<style>
  /* ---------- THEME ---------- */
  :root {
    --bg:#0b0b0c; --fg:#e8e8e8; --sub:#9aa0a6;
    --cyan:#00e5ff; --dc:#005b66; --mag:#ff8de3;
    --green:#7CFC00; --yellow:#ffe066; --btn:#151517; --border:#2a2a2e;
  }
  html,body { height:100%; margin:0; background:var(--bg); color:var(--fg);
    font:16px/1.45 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; }
  .term { max-width:740px; margin:0 auto; padding:20px; }

  /* Mobile readability */
  @media (max-width: 420px) {
    html,body{ font-size:18px; }
    .term{ padding:14px; }
  }

  .bar { color:var(--cyan); }
  .sep { color:var(--dc); }
  .label { color:var(--mag); display:inline-block; width:18ch; }
  .yellow { color:var(--yellow); }
  .green { color:var(--green); }
  .sub { color:var(--sub); }
  .mt { margin-top: 12px; }
  .line { white-space:pre; }

  .btns { margin-top:18px; display:flex; gap:10px; flex-wrap:wrap; }
  button {
    background:var(--btn); color:#fff; border:1px solid var(--border);
    padding:12px 14px; border-radius:10px; font:inherit; cursor:pointer; flex:0 0 auto;
  }
  button:active { transform: translateY(1px); }
  @media (max-width: 420px) {
    .btns { gap:8px; }
    button { flex: 1 1 100%; }
  }

  /* ------ Animations ------ */
  .shake { animation: shake .6s cubic-bezier(.36,.07,.19,.97); }
  @keyframes shake {
    10%, 90% { transform: translateX(-1px); }
    20%, 80% { transform: translateX(2px); }
    30%, 50%, 70% { transform: translateX(-4px); }
    40%, 60% { transform: translateX(4px); }
  }

  .spin {
    display:inline-block;
    animation: spin 1.2s ease-in-out;
    transform-origin: 50% 50%;
  }
  @keyframes spin {
    0%   { transform: rotate(0deg) scale(1);   opacity:.95; }
    50%  { transform: rotate(180deg) scale(1.03); opacity:1; }
    100% { transform: rotate(360deg) scale(1);  opacity:1; }
  }

  /* Respect reduced motion: disable shake & spin */
  @media (prefers-reduced-motion: reduce) {
    .shake, .spin { animation: none !important; transform: none !important; }
  }
</style>
</head>
<body>
<div class="term" id="term">
  <div class="line bar" id="title"></div>
  <div class="line sep" id="sep"></div>
  <div class="line yellow" id="subject"></div>
  <div id="screen" class="mt"></div>
  <div class="btns">
    <button id="again">Run again</button>
    <button id="share">Share this</button>
  </div>
</div>

<script>
(() => {
  /* ---- personalize ---- */
  const name = "Walter";
  const co   = "Life Insurance Co.";
  /* --------------------- */

  const titleEl = document.getElementById('title');
  const sepEl   = document.getElementById('sep');
  const subjEl  = document.getElementById('subject');
  const screen  = document.getElementById('screen');
  const term    = document.getElementById('term');

  function nowStamp(){
    const d = new Date(); const pad = n => n.toString().padStart(2,'0');
    return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}`;
  }
  function setHeader(){
    const ttl = `Bloom-bae Terminal ‚Äî ${nowStamp()}`;
    titleEl.textContent = ttl;
    sepEl.textContent = '='.repeat(ttl.length);
    subjEl.textContent = `Subject: ${name}`;
  }

  const catAscii =
` /\\_/\\  
( o.o ) 
 > ^ <`;

  function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }
  function line(txt, cls){ const d=document.createElement('div'); d.className='line'+(cls? ' '+cls:''); d.textContent = txt; screen.appendChild(d); return d; }
  function lineHTML(txt, cls){ const d=document.createElement('div'); d.className='line'+(cls? ' '+cls:''); d.innerHTML = txt; screen.appendChild(d); return d; }
  function clearScreen(){ screen.innerHTML=''; }
  function sparkline(){
    const bars = ['‚ñÅ','‚ñÇ','‚ñÉ','‚ñÑ','‚ñÖ','‚ñÜ','‚ñá']; let out = '';
    for(let i=0;i<22;i++) out += bars[Math.floor(Math.random()*bars.length)];
    return out + '  üìà';
  }
  function rndInt(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }
  function rndBeta(){ return (rndInt(11,19)/10).toFixed(2); }

  const notes = [
    'Premium waived for clever banter.',
    'Policy lapse risk rises with poor communication.',
    'Premium discount applied for admission of blushing.',
    'Policyholder owes one coffee date for compliance.'
  ];

  async function showCatsSpin(){
    // single cat that spins in place 4 times
    clearScreen();
    const pre = document.createElement('pre');
    pre.className = 'line spin';
    pre.textContent = catAscii + "   (spinning‚Ä¶)";
    screen.appendChild(pre);
    // do a few spins with brief gaps
    for(let i=0;i<3;i++){
      pre.classList.remove('spin'); void pre.offsetWidth; // restart animation
      pre.classList.add('spin');
      await sleep(400);
    }
    // final clear
    await sleep(400);
    clearScreen();
  }

  function report(){
    const beta = rndBeta();
    const roi  = rndInt(120,420);
    const hy   = rndInt(60,100);
    const uw   = notes[Math.floor(Math.random()*notes.length)];
    const rows = [
      ['Role',              `AVP, Finance ‚Äî ${co}`],
      ['Analyst Rating',    'STRONG BUY  ‚ù§Ô∏è'],
      ['Chemistry Beta',    beta],
      ['Sentiment',         'Ultra Bullish'],
      ['Projected ROI',     `${roi}% smiles next quarter`],
      ['HYROX Index',       `${hy}/100 ‚Äî built for endurance`],
      ['Underwriting Note', uw],
      ['Insider Tip',       'Run due diligence: coffee with me.']
    ];
    rows.forEach(([k,v])=>{
      lineHTML(`<span class="label">${k}:</span> <span class="mag">${v}</span>`);
    });
    line('', '');
    line(`Price Action:  ${sparkline()}`, 'green');
    line('', '');
    line(`‚ú® ${name}, don't keep me waiting ‚Äî I'm free next week. ‚ú®`, 'yellow');
    line('', '');
  }

  async function ticker(){
    const symbols = ['$LOVE','‚ù§Ô∏èBUY','$WALT','üí∏LUV','$DATE','$COFFEE','$ROI‚Üë','$BETA1.6','$QTRWIN'];
    for(let i=0;i<28;i++){
      let row='';
      for(let j=0;j<7;j++){
        const s = symbols[Math.floor(Math.random()*symbols.length)];
        row += (s+'        ').slice(0,8);
      }
      line(row, 'green');
      await sleep(80);
    }
    line('', '');
  }

  async function runOnce(){
    setHeader();
    await showCatsSpin();
    report();
    await ticker();
  }

  // Shake on reload
  function shake(){ term.classList.remove('shake'); void term.offsetWidth; term.classList.add('shake'); }

  document.getElementById('again').addEventListener('click', async ()=>{
    shake();
    clearScreen();
    await runOnce();
    // keep it feeling app-like on mobile
    window.scrollTo({top:document.body.scrollHeight, behavior:'smooth'});
  });

  document.getElementById('share').addEventListener('click', async ()=>{
    if (navigator.share) {
      await navigator.share({title:'Bloom-bae Terminal', url: location.href});
    } else {
      await navigator.clipboard.writeText(location.href);
      alert('Link copied!');
    }
  });

  // init
  setHeader();
  runOnce();
})();
</script>
</body>
</html>


